if [ "$1" == "init" ]; then
    echo "You must have Rust installed before running init https://www.rust-lang.org/tools/install"
    cargo install wasm-pack
    cargo install cargo-watch
    wasm-pack build --target web
    cd pkg
    npm link
    cd ../site
    npm link dio
    npm install
    npm audit fix
    echo "\n\n> Successfully initialized dio."

elif [ "$1" == "build" ]; then
    wasm-pack build --target web

elif [ "$1" == "serve" ]; then
    cargo watch --shell "wasm-pack build --target bundler && (cd site && npm run start)"

else
    echo "TODO: HELP_MSG"

fi
